<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AR Based Marma Visualization</title>

<link rel="stylesheet" href="style.css">

<!-- MediaPipe Pose -->
<script src="https://cdn.jsdelivr.net/npm/@mediapipe/pose@0.5/pose.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>

</head>
<body>

<!-- ============= SCREEN 1 ============= -->
<div id="screen1">
  <h1>AR Based Marma Visualization<br>(Angul Parman Prototype)</h1>
  <button onclick="goToFingerMeasure()">Start</button>
</div>

<!-- ============= SCREEN 2 ============= -->
<div id="screen2" class="hidden">
  <h2>Step 1 — Measure Angul</h2>

  <p>Place finger & match rectangle width</p>

  <div id="angulBox" class="measure-rect"></div>

  <input type="range" id="angulSlider" min="20" max="120" value="60" oninput="updateAngul()">

  <p>1 Angul = <span id="angulValue">60</span> pixels</p>

  <button onclick="goToHeightMeasure()">Next → Height Measurement</button>
</div>

<!-- ============= SCREEN 3 ============= -->
<div id="screen3" class="hidden">
  <h2>Step 2 — Measure Height in Pixels</h2>

  <video id="video" autoplay playsinline></video>

  <div id="heightBox" class="measure-rect"></div>

  <input type="range" id="heightSlider" min="300" max="1200" value="600" oninput="updateHeight()">

  <p>Body height: <span id="heightPx">600</span> px</p>
  <p>Total Angul = <span id="totalAngul">10</span></p>

  <button onclick="startAR()">Start AR Visualization</button>
</div>

<!-- ============= SCREEN 4 ============= -->
<div id="screen4" class="hidden">

  <h2 id="status">Analyzing… Please hold still</h2>

  <div id="cameraWrapper">
    <video id="arVideo" autoplay playsinline></video>
    <canvas id="overlay"></canvas>
  </div>

  <button onclick="switchCamera()">Switch Camera</button>

</div>

<!-- POPUP -->
<div id="popup" class="hidden popup">
  <h3 id="popupTitle"></h3>
  <p id="popupText"></p>
  <button onclick="closePopup()">Close</button>
</div>

<script src="script.js"></script>
</body>
</html>
